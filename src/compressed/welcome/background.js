self.addEventListener("install",(t=>{t.waitUntil((async()=>{const{settings:t,groups:e}=await chrome.storage.sync.get(["settings","groups"]),o=t&&Object.keys(t).length>0,s=e&&e.length>0;if(!o){const t={searchBarPosition:{x:"50%",y:"50%"},headerLinks:[{name:"Gmail",url:"https://mail.google.com"},{name:"Photos",url:"https://photos.google.com"},{name:"Search Labs",url:"https://labs.google.com"}]};await chrome.storage.sync.set({settings:t})}if(!s){const t={type:"stack",title:"Google Apps",x:"10%",y:"10%",links:[{title:"Gmail",url:"https://mail.google.com"},{title:"Google Docs",url:"https://docs.google.com"},{title:"Google Drive",url:"https://drive.google.com"},{title:"Google Calendar",url:"https://calendar.google.com"}]};await chrome.storage.local.set({groups:[t]}),await chrome.storage.sync.set({groupsLocation:"local"})}chrome.tabs.create({url:chrome.runtime.getURL("/newtab/newtab.html?newInstall=true")})})())}));